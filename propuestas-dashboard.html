ript>
        function parseValue(value) {
            if (!value || value === '') return '';
            return value.toString().trim();
        }

        function getCSVUrl() {
            return 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTju1yyGhnl921dWPpi_MauKg_H0MBwEBxCR3jnO2NwJv5J8wAmF99jTeSr-YLTYpvfuYlDrisp36RZ/pub?output=csv&gid=1107887473';
        }

        function formatDate(dateStr) {
            if (!dateStr) return '';
            try {
                const date = new Date(dateStr);
                return date.toLocaleDateString('es-ES', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            } catch {
                return dateStr;
            }
        }

        function createCard(data) {
            const card = document.createElement('div');
            card.className = 'card';
            
            // Formatear aportes con saltos de línea
            const aportesFormatted = parseValue(data['Que puedo aportar']).replace(/\n/g, '<br>');
            
            card.innerHTML = `
                <div class="card-header">
                    <div class="card-title">${parseValue(data['Nombre'])}</div>
                    <div class="card-subtitle">${parseValue(data['Nombre_de_la_Propuesta'])}</div>
                </div>
                <div class="card-content">
                    <div class="card-section">
                        <div class="card-label">Propuesta:</div>
                        <div class="card-text">${parseValue(data['Propuesta'])}</div>
                    </div>
                    <div class="card-section">
                        <div class="card-label">Se necesita:</div>
                        <div class="card-text">${parseValue(data['Se necesita'])}</div>
                    </div>
                    <div class="card-section">
                        <div class="card-label">Qué puedo aportar:</div>
                        <div class="card-text">${aportesFormatted}</div>
                    </div>
                </div>
                <div class="card-date">${formatDate(data['Fecha'])}</div>
            `;
            
            return card;
        }

        async function loadData() {
            // Datos de ejemplo para pruebas locales
            if (window.location.hostname === 'localhost' || window.location.hostname === '0.0.0.0') {
                const sampleData = [
                    {
                        'Nombre': 'Juan Pérez',
                        'Nombre_de_la_Propuesta': 'Comedor Comunitario',
                        'Propuesta': 'Crear un espacio donde las familias puedan acceder a comidas nutritivas a bajo costo',
                        'Se necesita': 'Donaciones de alimentos no perecederos, utensilios de cocina, voluntarios',
                        'Que puedo aportar': 'Experiencia en cocina, tiempo los fines de semana, contactos con proveedores',
                        'Fecha': '2024-01-15'
                    },
                    {
                        'Nombre': 'María González',
                        'Nombre_de_la_Propuesta': 'Biblioteca Móvil',
                        'Propuesta': 'Llevar libros y actividades educativas a comunidades rurales sin acceso a bibliotecas',
                        'Se necesita': 'Libros infantiles y juveniles, vehículo, combustible, voluntarios lectores',
                        'Que puedo aportar': 'Colección de libros personales, conocimiento en pedagogía, disponibilidad de tiempo',
                        'Fecha': '2024-01-20'
                    }
                ];
                displayCards(sampleData);
                return;
            }
            
            try {
                console.log('Intentando cargar desde:', getCSVUrl());
                const response = await fetch(getCSVUrl());
                console.log('Response status:', response.status);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const csvText = await response.text();
                console.log('CSV length:', csvText.length);
                console.log('First 200 chars:', csvText.substring(0, 200));
                
                const lines = csvText.split('\n');
                const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
                console.log('Headers:', headers);
                
                const rawData = [];
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].trim()) {
                        const values = lines[i].split(',').map(v => v.trim().replace(/"/g, ''));
                        const row = {};
                        headers.forEach((header, index) => {
                            row[header] = values[index] || '';
                        });
                        
                        if (row['Nombre'] || row['Nombre_de_la_Propuesta']) {
                            rawData.push(row);
                        }
                    }
                }
                
                // Agrupar registros por nombre de propuesta
                const groupedData = {};
                
                rawData.forEach(row => {
                    const propuestaNombre = row['Nombre_de_la_Propuesta'];
                    if (propuestaNombre) {
                        if (!groupedData[propuestaNombre]) {
                            groupedData[propuestaNombre] = {
                                mainRecord: null,
                                contributors: []
                            };
                        }
                        
                        // Si tiene propuesta y se necesita, es el registro principal
                        if (row['Propuesta'] && row['Propuesta'].trim() && row['Se necesita'] && row['Se necesita'].trim()) {
                            groupedData[propuestaNombre].mainRecord = row;
                        } else if (row['Que puedo aportar'] && row['Que puedo aportar'].trim()) {
                            // Es un contribuyente adicional
                            groupedData[propuestaNombre].contributors.push({
                                nombre: row['Nombre'],
                                aporte: row['Que puedo aportar']
                            });
                        }
                    }
                });
                
                // Crear datos finales combinando registro principal con contribuyentes
                const data = [];
                Object.keys(groupedData).forEach(propuestaNombre => {
                    const group = groupedData[propuestaNombre];
                    if (group.mainRecord) {
                        const combinedRecord = { ...group.mainRecord };
                        
                        // Agregar contribuyentes al campo "Que puedo aportar"
                        if (group.contributors.length > 0) {
                            const allAportes = [combinedRecord['Que puedo aportar']];
                            group.contributors.forEach(contrib => {
                                allAportes.push(`${contrib.nombre}: ${contrib.aporte}`);
                            });
                            combinedRecord['Que puedo aportar'] = allAportes.filter(a => a && a.trim()).join('\n\n');
                        }
                        
                        data.push(combinedRecord);
                    }
                });
       
